@page
@model ContactTracing15.Pages.Tracing.DashboardModel

<div class="lhs" style="float:left;width:50%">
    @await Html.PartialAsync("_AssignedCases", Model.CaseListItems)
</div>
<div class="rhs">
    @if (Model.HasCurrentAssignedCase)
    {
        <p>
            Name: @Html.DisplayFor(m => m.CurrentAssignedCase.Name)
        </p>
        <p>
            Phone Number: @Html.DisplayFor(m => m.CurrentAssignedCase.PhoneNumber)
        </p>
        @if (Model.CurrentAssignedCase.EmailAddress != null)
        {
            <p>
                Email Address: @Html.DisplayFor(m => m.CurrentAssignedCase.EmailAddress)
            </p>
        }
        @if (Model.CurrentAssignedCase.PhoneNumber2 != null)
        {
            <p>
                Secondar Phone Number: @Html.DisplayFor(m => m.CurrentAssignedCase.PhoneNumber2)
            </p>
        }
        <p> Added Contacts: </p>
        <u1>
            @foreach (var contact in Model.CurrentAssignedCase.contacts)
            {
                <li>
                    @contact.Name
                    :
                    @contact.EmailAddress
                    ,
                    @contact.PhoneNumber
                </li>
            }
        </u1>
        <p>
            <a asp-page="./Dashboard_Edit" asp-route-caseid="@Model.CurrentAssignedCase.CaseID">Add a Contact </a>
            <a asp-page="./Dashboard" asp-route-completecaseid="@Model.CurrentAssignedCase.CaseID">| Submit Case </a>
            <a asp-page="./Dashboard" asp-route-dropcaseid="@Model.CurrentAssignedCase.CaseID">| Drop Case</a>
        </p>
    }
    else
    {
        <p>
            Click a case for details.
        </p>
    }
</div>

@{ }
